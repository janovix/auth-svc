{
	"openapi": "3.1.0",
	"info": {
		"title": "auth-svc",
		"version": "1.1.0",
		"description": "Complete backend API template using Hono + Chanfana + D1 + Vitest."
	},
	"components": {
		"schemas": {},
		"parameters": {}
	},
	"paths": {
		"/api/auth/sign-up": {
			"post": {
				"tags": ["Authentication"],
				"summary": "Sign up a new user",
				"operationId": "auth-sign-up",
				"requestBody": {
					"content": {
						"application/json": {
							"schema": {
								"type": "object",
								"properties": {
									"email": {
										"type": "string",
										"format": "email"
									},
									"password": {
										"type": "string",
										"minLength": 8
									},
									"name": {
										"type": "string"
									}
								},
								"required": ["email", "password"]
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "User created successfully",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean"
										},
										"data": {}
									},
									"required": ["success"]
								}
							}
						}
					},
					"400": {
						"description": "Bad request",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean"
										},
										"message": {
											"type": "string"
										},
										"errors": {
											"type": "array",
											"items": {
												"type": "object",
												"properties": {
													"code": {
														"type": "number"
													},
													"message": {
														"type": "string"
													}
												},
												"required": ["code", "message"]
											}
										}
									},
									"required": ["success"]
								}
							}
						}
					}
				}
			}
		},
		"/api/auth/sign-in": {
			"post": {
				"tags": ["Authentication"],
				"summary": "Sign in a user",
				"operationId": "auth-sign-in",
				"requestBody": {
					"content": {
						"application/json": {
							"schema": {
								"type": "object",
								"properties": {
									"email": {
										"type": "string",
										"format": "email"
									},
									"password": {
										"type": "string"
									}
								},
								"required": ["email", "password"]
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "Sign in successful",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean"
										},
										"data": {}
									},
									"required": ["success"]
								}
							}
						}
					},
					"401": {
						"description": "Unauthorized",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean"
										},
										"message": {
											"type": "string"
										},
										"errors": {
											"type": "array",
											"items": {
												"type": "object",
												"properties": {
													"code": {
														"type": "number"
													},
													"message": {
														"type": "string"
													}
												},
												"required": ["code", "message"]
											}
										}
									},
									"required": ["success"]
								}
							}
						}
					}
				}
			}
		},
		"/api/auth/sign-out": {
			"post": {
				"tags": ["Authentication"],
				"summary": "Sign out the current user",
				"operationId": "auth-sign-out",
				"responses": {
					"200": {
						"description": "Sign out successful",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean"
										},
										"data": {}
									},
									"required": ["success"]
								}
							}
						}
					}
				}
			}
		},
		"/api/auth/session": {
			"get": {
				"tags": ["Authentication"],
				"summary": "Get current session",
				"operationId": "auth-session",
				"responses": {
					"200": {
						"description": "Current session data",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean"
										},
										"data": {
											"type": "object",
											"properties": {
												"user": {
													"type": "object",
													"properties": {
														"id": {
															"type": "string"
														},
														"email": {
															"type": "string"
														},
														"name": {
															"type": "string"
														},
														"emailVerified": {
															"type": "boolean"
														}
													},
													"required": ["id", "email", "emailVerified"]
												},
												"session": {
													"type": "object",
													"properties": {
														"id": {
															"type": "string"
														},
														"expiresAt": {
															"type": "string"
														}
													},
													"required": ["id", "expiresAt"]
												}
											}
										}
									},
									"required": ["success"]
								}
							}
						}
					},
					"401": {
						"description": "Unauthorized",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean"
										},
										"message": {
											"type": "string"
										},
										"errors": {
											"type": "array",
											"items": {
												"type": "object",
												"properties": {
													"code": {
														"type": "number"
													},
													"message": {
														"type": "string"
													}
												},
												"required": ["code", "message"]
											}
										}
									},
									"required": ["success"]
								}
							}
						}
					}
				}
			}
		},
		"/api/auth/jwks": {
			"get": {
				"tags": ["Authentication"],
				"summary": "Get JSON Web Key Set (JWKS) for JWT verification",
				"description": "Public endpoint that returns the JSON Web Key Set used to verify JWTs issued by this service. This endpoint is publicly accessible.",
				"operationId": "auth-jwks",
				"responses": {
					"200": {
						"description": "JWKS data",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"keys": {
											"type": "array",
											"items": {
												"type": "object",
												"properties": {
													"kty": {
														"type": "string"
													},
													"use": {
														"type": "string"
													},
													"kid": {
														"type": "string"
													},
													"alg": {
														"type": "string"
													},
													"crv": {
														"type": "string"
													},
													"x": {
														"type": "string"
													},
													"y": {
														"type": "string"
													},
													"n": {
														"type": "string"
													},
													"e": {
														"type": "string"
													}
												},
												"required": ["kty"]
											}
										}
									},
									"required": ["keys"]
								}
							}
						}
					}
				}
			}
		},
		"/api/auth/forgot-password": {
			"post": {
				"tags": ["Authentication"],
				"summary": "Request password reset",
				"operationId": "auth-forgot-password",
				"requestBody": {
					"content": {
						"application/json": {
							"schema": {
								"type": "object",
								"properties": {
									"email": {
										"type": "string",
										"format": "email"
									}
								},
								"required": ["email"]
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "Password reset email sent",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean"
										},
										"data": {}
									},
									"required": ["success"]
								}
							}
						}
					}
				}
			}
		},
		"/api/auth/reset-password": {
			"post": {
				"tags": ["Authentication"],
				"summary": "Reset password with token",
				"operationId": "auth-reset-password",
				"requestBody": {
					"content": {
						"application/json": {
							"schema": {
								"type": "object",
								"properties": {
									"token": {
										"type": "string"
									},
									"password": {
										"type": "string",
										"minLength": 8
									}
								},
								"required": ["token", "password"]
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "Password reset successful",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean"
										},
										"data": {}
									},
									"required": ["success"]
								}
							}
						}
					},
					"400": {
						"description": "Invalid or expired token",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean"
										},
										"message": {
											"type": "string"
										},
										"errors": {
											"type": "array",
											"items": {
												"type": "object",
												"properties": {
													"code": {
														"type": "number"
													},
													"message": {
														"type": "string"
													}
												},
												"required": ["code", "message"]
											}
										}
									},
									"required": ["success"]
								}
							}
						}
					}
				}
			}
		},
		"/tasks": {
			"get": {
				"operationId": "get_TaskList",
				"parameters": [
					{
						"schema": {
							"type": "integer",
							"minimum": 1,
							"default": 1
						},
						"required": false,
						"name": "page",
						"in": "query"
					},
					{
						"schema": {
							"type": "integer",
							"minimum": 1,
							"maximum": 100,
							"default": 20
						},
						"required": false,
						"name": "per_page",
						"in": "query"
					},
					{
						"schema": {
							"type": "string",
							"description": "Search by name, slug, description"
						},
						"required": false,
						"name": "search",
						"in": "query"
					}
				],
				"responses": {
					"200": {
						"description": "List objects",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean"
										},
										"result": {
											"type": "array",
											"items": {
												"type": "object",
												"properties": {
													"id": {
														"type": "integer"
													},
													"name": {
														"type": "string"
													},
													"slug": {
														"type": "string"
													},
													"description": {
														"type": "string"
													},
													"completed": {
														"type": "boolean"
													},
													"due_date": {
														"type": "string",
														"format": "date-time"
													}
												},
												"required": [
													"id",
													"name",
													"slug",
													"description",
													"completed",
													"due_date"
												]
											}
										}
									},
									"required": ["success", "result"]
								}
							}
						}
					}
				}
			},
			"post": {
				"operationId": "post_TaskCreate",
				"requestBody": {
					"content": {
						"application/json": {
							"schema": {
								"type": "object",
								"properties": {
									"name": {
										"type": "string"
									},
									"slug": {
										"type": "string"
									},
									"description": {
										"type": "string"
									},
									"completed": {
										"type": "boolean"
									},
									"due_date": {
										"type": "string",
										"format": "date-time"
									}
								},
								"required": [
									"name",
									"slug",
									"description",
									"completed",
									"due_date"
								]
							}
						}
					}
				},
				"responses": {
					"201": {
						"description": "Returns the created Object",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean"
										},
										"result": {
											"type": "object",
											"properties": {
												"id": {
													"type": "integer"
												},
												"name": {
													"type": "string"
												},
												"slug": {
													"type": "string"
												},
												"description": {
													"type": "string"
												},
												"completed": {
													"type": "boolean"
												},
												"due_date": {
													"type": "string",
													"format": "date-time"
												}
											},
											"required": [
												"id",
												"name",
												"slug",
												"description",
												"completed",
												"due_date"
											]
										}
									},
									"required": ["success", "result"]
								}
							}
						}
					},
					"400": {
						"description": "Input Validation Error",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean",
											"enum": [false]
										},
										"errors": {
											"type": "array",
											"items": {
												"type": "object",
												"properties": {
													"code": {
														"type": "number",
														"example": 7001
													},
													"message": {
														"type": "string",
														"example": "Input Validation Error"
													},
													"path": {
														"type": "array",
														"items": {
															"type": "string",
															"example": "body"
														}
													}
												},
												"required": ["code", "message", "path"]
											}
										}
									},
									"required": ["success", "errors"]
								}
							}
						}
					}
				}
			}
		},
		"/tasks/{id}": {
			"get": {
				"operationId": "get_TaskRead",
				"parameters": [
					{
						"schema": {
							"type": "integer"
						},
						"required": true,
						"name": "id",
						"in": "path"
					}
				],
				"responses": {
					"200": {
						"description": "Returns a single object if found",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean"
										},
										"result": {
											"type": "object",
											"properties": {
												"id": {
													"type": "integer"
												},
												"name": {
													"type": "string"
												},
												"slug": {
													"type": "string"
												},
												"description": {
													"type": "string"
												},
												"completed": {
													"type": "boolean"
												},
												"due_date": {
													"type": "string",
													"format": "date-time"
												}
											},
											"required": [
												"id",
												"name",
												"slug",
												"description",
												"completed",
												"due_date"
											]
										}
									},
									"required": ["success", "result"]
								}
							}
						}
					},
					"404": {
						"description": "Not Found",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean",
											"enum": [false]
										},
										"errors": {
											"type": "array",
											"items": {
												"type": "object",
												"properties": {
													"code": {
														"type": "number",
														"example": 7002
													},
													"message": {
														"type": "string",
														"example": "Not Found"
													}
												},
												"required": ["code", "message"]
											}
										}
									},
									"required": ["success", "errors"]
								}
							}
						}
					}
				}
			},
			"put": {
				"operationId": "put_TaskUpdate",
				"parameters": [
					{
						"schema": {
							"type": "integer"
						},
						"required": true,
						"name": "id",
						"in": "path"
					}
				],
				"requestBody": {
					"content": {
						"application/json": {
							"schema": {
								"type": "object",
								"properties": {
									"name": {
										"type": "string"
									},
									"slug": {
										"type": "string"
									},
									"description": {
										"type": "string"
									},
									"completed": {
										"type": "boolean"
									},
									"due_date": {
										"type": "string",
										"format": "date-time"
									}
								},
								"required": [
									"name",
									"slug",
									"description",
									"completed",
									"due_date"
								]
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "Returns the updated Object",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean"
										},
										"result": {
											"type": "object",
											"properties": {
												"id": {
													"type": "integer"
												},
												"name": {
													"type": "string"
												},
												"slug": {
													"type": "string"
												},
												"description": {
													"type": "string"
												},
												"completed": {
													"type": "boolean"
												},
												"due_date": {
													"type": "string",
													"format": "date-time"
												}
											},
											"required": [
												"id",
												"name",
												"slug",
												"description",
												"completed",
												"due_date"
											]
										}
									},
									"required": ["success", "result"]
								}
							}
						}
					},
					"400": {
						"description": "Input Validation Error",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean",
											"enum": [false]
										},
										"errors": {
											"type": "array",
											"items": {
												"type": "object",
												"properties": {
													"code": {
														"type": "number",
														"example": 7001
													},
													"message": {
														"type": "string",
														"example": "Input Validation Error"
													},
													"path": {
														"type": "array",
														"items": {
															"type": "string",
															"example": "body"
														}
													}
												},
												"required": ["code", "message", "path"]
											}
										}
									},
									"required": ["success", "errors"]
								}
							}
						}
					},
					"404": {
						"description": "Not Found",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean",
											"enum": [false]
										},
										"errors": {
											"type": "array",
											"items": {
												"type": "object",
												"properties": {
													"code": {
														"type": "number",
														"example": 7002
													},
													"message": {
														"type": "string",
														"example": "Not Found"
													}
												},
												"required": ["code", "message"]
											}
										}
									},
									"required": ["success", "errors"]
								}
							}
						}
					}
				}
			},
			"delete": {
				"operationId": "delete_TaskDelete",
				"parameters": [
					{
						"schema": {
							"type": "integer"
						},
						"required": true,
						"name": "id",
						"in": "path"
					}
				],
				"responses": {
					"200": {
						"description": "Returns the Object if it was successfully deleted",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean"
										},
										"result": {
											"type": "object",
											"properties": {
												"id": {
													"type": "integer"
												},
												"name": {
													"type": "string"
												},
												"slug": {
													"type": "string"
												},
												"description": {
													"type": "string"
												},
												"completed": {
													"type": "boolean"
												},
												"due_date": {
													"type": "string",
													"format": "date-time"
												}
											},
											"required": [
												"id",
												"name",
												"slug",
												"description",
												"completed",
												"due_date"
											]
										}
									},
									"required": ["success", "result"]
								}
							}
						}
					},
					"404": {
						"description": "Not Found",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean",
											"enum": [false]
										},
										"errors": {
											"type": "array",
											"items": {
												"type": "object",
												"properties": {
													"code": {
														"type": "number",
														"example": 7002
													},
													"message": {
														"type": "string",
														"example": "Not Found"
													}
												},
												"required": ["code", "message"]
											}
										}
									},
									"required": ["success", "errors"]
								}
							}
						}
					}
				}
			}
		},
		"/dummy/{slug}": {
			"post": {
				"tags": ["Dummy"],
				"summary": "this endpoint is an example",
				"operationId": "example-endpoint",
				"parameters": [
					{
						"schema": {
							"type": "string"
						},
						"required": true,
						"name": "slug",
						"in": "path"
					}
				],
				"requestBody": {
					"content": {
						"application/json": {
							"schema": {
								"type": "object",
								"properties": {
									"name": {
										"type": "string"
									}
								},
								"required": ["name"]
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "Returns the log details",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {
											"type": "boolean"
										},
										"result": {
											"type": "object",
											"properties": {
												"msg": {
													"type": "string"
												},
												"slug": {
													"type": "string"
												},
												"name": {
													"type": "string"
												}
											},
											"required": ["msg", "slug", "name"]
										}
									},
									"required": ["success", "result"]
								}
							}
						}
					}
				}
			}
		}
	},
	"webhooks": {}
}
